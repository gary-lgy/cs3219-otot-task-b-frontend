(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),u=n.n(c),o=(n(91),n(150)),i=n(161),s=n(32),l=n(28),m=n(11),p=n(151),f=n(152),h=n(153),b=n(154),d=n(155),v=n(72),g=n.n(v),E=n(51),w=n.n(E),j=Object(o.a)({title:{flexGrow:1}}),O=Object(m.g)((function(){var e=j(),t=Object(m.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(w.a,null),r.a.createElement(i.a,{className:e.title},r.a.createElement(h.a,{color:"inherit",onClick:function(){t.push("/")}},r.a.createElement(b.a,{variant:"h6"},"Quotes"))),r.a.createElement(d.a,{color:"inherit",onClick:function(){t.push("/new")}},r.a.createElement(g.a,null)))),r.a.createElement(f.a,null))})),x=n(10),k=n.n(x),y=n(16),S=n(21),N=n(41),q=n.n(N),C="".concat("https://o078712mzi.execute-api.us-east-1.amazonaws.com/production/api/v1","/quotes"),B=function(e){return"".concat(C,"/").concat(e)},A=function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{success:!0,data:n.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:null!==(a=null===(r=e.t0.response)||void 0===r?void 0:r.message)&&void 0!==a?a:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(q.a.get(C));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(y.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(q.a.get(B(t)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(q.a.post(C,{content:t,authorName:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(y.a)(k.a.mark((function e(t,n,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(q.a.put(B(t),{content:n,authorName:a}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(y.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(q.a.delete(B(t))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=n(156),T=n(160),J=Object(o.a)((function(e){return{root:{width:"80%",marginLeft:"auto",marginRight:"auto",padding:e.spacing(2)},header:{textAlign:"center"},form:{marginRight:e.spacing(4),marginLeft:e.spacing(4),"& > *":{marginTop:e.spacing(2)}},button:{marginTop:e.spacing(3)}}})),R=function(e){var t=e.onSubmit,n=e.header,c=e.action,u=e.initialAuthorName,o=e.initialContent,s=J(),l=Object(a.useState)(u||""),m=Object(S.a)(l,2),p=m[0],f=m[1],d=Object(a.useState)(o||""),v=Object(S.a)(d,2),g=v[0],E=v[1],w=Object(a.useState)(!1),j=Object(S.a)(w,2),O=j[0],x=j[1],N=function(){var e=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,t(p,g);case 3:e.sent||x(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Q.a,{className:s.root},r.a.createElement(b.a,{variant:"h2",className:s.header},n),r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:s.form},r.a.createElement(T.a,{label:"Author name",required:!0,fullWidth:!0,onChange:function(e){return f(e.target.value)},value:p}),r.a.createElement(T.a,{label:"Body",multiline:!0,fullWidth:!0,required:!0,onChange:function(e){return E(e.target.value)},value:g}),r.a.createElement(i.a,{textAlign:"center"},r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:N,className:s.button,disabled:O},c))))},F=n(157),G=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},spinner:{marginBottom:e.spacing(2)},centerBox:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),M=function(e){var t=e.text,n=G();return r.a.createElement("div",{className:n.root},r.a.createElement(F.a,{className:n.spinner}),t&&r.a.createElement(b.a,{variant:"h5"},t))},V=function(e){var t=e.text,n=G();return r.a.createElement(i.a,{className:n.centerBox},r.a.createElement(M,{text:t}))},$=Object(m.g)((function(e){var t=e.match.params.quoteId,n=Object(a.useState)(null),c=Object(S.a)(n,2),u=c[0],o=c[1],i=Object(a.useState)(!0),l=Object(S.a)(i,2),p=l[0],f=l[1],h=Object(s.b)().enqueueSnackbar;Object(a.useEffect)((function(){L(t).then((function(e){e.success?(o(e.data.quote),f(!1)):h("Something went wrong: ".concat(e.message),{variant:"error"})}))}),[h,t]);var b=Object(m.f)(),d=function(){var e=Object(y.a)(k.a.mark((function e(n,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(t,a,n);case 3:return b.push("/"),h("Quote updated",{variant:"success"}),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),h("Something went wrong: ".concat(e.t0.message),{variant:"error"}),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();return null===u||p?r.a.createElement(V,{text:"Loading..."}):r.a.createElement(R,{onSubmit:d,header:"Edit quote",action:"Edit",initialAuthorName:u.authorName,initialContent:u.content})})),H=Object(m.g)((function(){var e=Object(s.b)().enqueueSnackbar,t=Object(m.f)(),n=function(){var n=Object(y.a)(k.a.mark((function n(a,r){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W(r,a);case 3:return t.push("/"),e("New quote created",{variant:"success"}),n.abrupt("return",!0);case 8:return n.prev=8,n.t0=n.catch(0),e("Something went wrong ".concat(n.t0.message),{variant:"error"}),n.abrupt("return",!1);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}();return r.a.createElement(R,{onSubmit:n,header:"Create new quote",action:"Create"})})),K=n(158),P=n(159),U=n(74),X=n.n(U),Y=n(73),Z=n.n(Y),_=Object(o.a)((function(e){return{cardContent:{margin:e.spacing(2)}}})),ee=Object(m.g)((function(e){var t=e.quote,n=e.handleEdit,c=e.handleDelete,u=t.authorName,o=t.content,s=_(),l=Object(a.useState)(!1),m=Object(S.a)(l,2),p=m[0],f=m[1],h=function(){var e=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,c();case 3:e.sent||f(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Q.a,{raised:!0},r.a.createElement(i.a,null,r.a.createElement(w.a,{fontSize:"large"})),r.a.createElement(K.a,{className:s.cardContent},r.a.createElement(b.a,{variant:"h2",gutterBottom:!0},"".concat(o)),r.a.createElement(b.a,{color:"textSecondary",align:"right"},"- ".concat(u))),r.a.createElement(P.a,null,r.a.createElement(d.a,{onClick:n},r.a.createElement(Z.a,null)),r.a.createElement(d.a,{onClick:h},r.a.createElement(X.a,null)),p&&r.a.createElement(M,null)))})),te=Object(o.a)((function(e){return{quotesBox:{width:"80%",margin:"0 auto","& > *":{marginBottom:e.spacing(4)}},centerBox:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),ne=Object(m.g)((function(){var e=te(),t=Object(a.useState)(null),n=Object(S.a)(t,2),c=n[0],u=n[1],o=Object(a.useState)(!0),p=Object(S.a)(o,2),f=p[0],h=p[1],d=Object(s.b)().enqueueSnackbar,v=Object(m.f)(),g=function(){var e=Object(y.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:return d("Quote deleted"),h(!0),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),d("Something went wrong: ".concat(e.t0.message),{variant:"error"}),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){f&&I().then((function(e){h(!1),e.success?u(e.data.quotes):d("Something went wrong: ".concat(e.message),{variant:"error"})}))}),[d,f,h]),null===c||f?r.a.createElement(V,{text:"Loading..."}):c.length?r.a.createElement(i.a,{className:e.quotesBox},c.map((function(e){return r.a.createElement(ee,{key:e.id,quote:e,handleEdit:function(){return t=e.id,void v.push("/edit/".concat(t));var t},handleDelete:function(){return g(e.id)}})}))):r.a.createElement(i.a,{className:e.centerBox},r.a.createElement(b.a,{variant:"h4",align:"center"},"No quotes yet."),r.a.createElement(l.b,{to:"/new"},r.a.createElement(b.a,{variant:"h5",align:"center"},"Create one")))})),ae=Object(o.a)((function(e){return{body:{marginTop:e.spacing(8)}}})),re=function(){var e=ae();return r.a.createElement(s.a,{maxSnack:5},r.a.createElement(l.a,null,r.a.createElement(O,null),r.a.createElement(i.a,{className:e.body},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/"},r.a.createElement(ne,null)),r.a.createElement(m.a,{exact:!0,path:"/new"},r.a.createElement(H,null)),r.a.createElement(m.a,{exact:!0,path:"/edit/:quoteId"},r.a.createElement($,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,n){e.exports=n(116)},91:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.835fa0a2.chunk.js.map